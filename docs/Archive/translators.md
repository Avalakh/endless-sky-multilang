# Руководство для переводчиков (i18n)

## Расположение файлов

Тексты интерфейса хранятся в каталоге **data/lang/** в виде JSON-файлов по одному на язык:

- `en.json` — английский (язык по умолчанию)
- `ru.json` — русский
- `de.json` — немецкий
- и т.д. (код языка по ISO 639-1)

## Формат файла

Файл — это JSON в кодировке **UTF-8 без BOM**. Плоская структура «ключ → строка»:

```json
{
  "prefs.expend_ammo": "Escorts expend ammo",
  "prefs.date_dmy": "dd/mm/yyyy",
  "bank.credit_score": "Your credit score is {{value}}."
}
```

- **Ключи** — латиница, нижний регистр, разделитель — точка (например `prefs.*`, `bank.*`). Не меняйте ключи при переводе.
- **Значения** — переводимая строка в кавычках. В JSON экранируйте `\` и `"` как `\\` и `\"`.

## Подстановки (плейсхолдеры)

В строках могут быть плейсхолдеры вида `{{name}}`, которые подставляются из кода (числа, имена и т.д.):

- `{{value}}` — число или значение
- `{{count}}` — количество
- `{{name}}` — имя и т.п.

При переводе **оставьте плейсхолдеры как есть** (включая имена в фигурных скобках), можно менять их порядок в предложении, если этого требует язык.

Пример для русского:

```json
"bank.credit_score": "Ваш кредитный рейтинг: {{value}}."
```

## Как добавить новый язык

1. Скопируйте `data/lang/en.json` в файл с кодом языка, например `data/lang/ru.json`.
2. Переведите значения (строки справа), не трогая ключи (слева).
3. Сохраните файл в UTF-8 без BOM.
4. Выберите язык в настройках игры: **Настройки → Другое (Other) → Язык (Language)** — переключение между English и Русский (и другими добавленными локалями).

## Валидация

- JSON должен быть корректным (закрытые кавычки, запятые между парами).
- При ошибке парсинга игра загрузит английскую локаль и запишет предупреждение в лог.
